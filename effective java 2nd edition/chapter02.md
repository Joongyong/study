# 객체의 생성과 삭제

Topic.
1. 객체를 만들어야 하는 시점과 그 방법
2. 객체 생성을 피해야 하는 경우와 그 방법
3. 적절한 순간에 객체가 삭제되도록 보장하는 방법
4. 삭제 전에 반드시 이루어져야 하는 청소 작업들을 관리하는 방법

## 규칙 1 - 생성자 대신 정적 팩토리 메서드를 사용할 수 없는지 생각해 보라
##### 객체를 만드는 방법
1. 클래스에 public으로 선언된 `생성자`를 이용하는것.
2. 클래스에 public으로 선언된 `정적 팩토리 메서드(static factory method)` 를 추가하는것.

## 정적 팩토리 메서드의 장점 1. 생성자와는 달리 정적 팩토리 메서드에는 이름(name)이 있다.
##### 메서드에 이름이 있다는게 어떤 장점이 있나?
생성자에 전달되는 파라미터들은 어떤 객체가 생성되는지를 설명하지 못하지만 정적 팩토리 메서드는 이름을 잘 짓기만 한다면 사용하기도 쉽고, 클라이언트 코드의 가독성도 높아진다.
아래의 코드 처럼 BigInteger(int, int, Random)는 BigInteger.probablePrime과 같은 이름의 정적 팩토리 메서드로 표현했으면 더 이해하기가 쉽다.
```java
new BigInteger(int, int, Random);
```
```java
BigInteger.probablePrime()
```


클래스에는 시그니처별로 하나의 생성자만 넣을 수 있다. 
이 제약을 피하는 한 가지 방법은 인자의 순서를 바꾸는 것이다. 
하지만 이 방법은 정말로 끔찍하다. 
그런 API 사용자는 각각의 생성자 용도를 절대로 기억하지 못 할 것이며, 
결국 실수로 엉뚱한 생성자를 호출하게 될 것이다. 
이런 생성자를 사용하는 코드를 읽는 사람은 API 설명서를 참조하지 않고는 코드가 하는 일을 제대로 파악하지 못할 것이다.

반면 정적 팩토리 메서드에는 이름이 있으므로 그런 문제는 생기지 않는다. 
그러니 같은 시그니처를 갖는 생성자를 여러 개 정의할 필요가 있을 때는 그 생성자들을 정적 팩토리 메서드로 바꾸고, 메서드 이름을 보면 차이가 명확히 드러나도록 작명에 신경 쓰자.


## 정적 팩토리 메서드의 장점 2. 생성자와는 달리 호출할 때마다 새로운 객체를 생성할 필요는 없다.
## 정적 팩토리 메서드의 장점 3. 생성자와는 달리 반환값 자료형의 하위 자료형 객체를 반환할 수 있다.
## 정적 팩토리 메서드의 장점 3. 형인자 자료형(parameterized type) 객체를 만드 때 편하다는 점이다.

## 정적 팩토리 메서드의 단점 1. public이나 protected로 선언도니 생성자가 없으므로 하위 클래스를 만들 수 없다는 것.
## 정적 팩토리 메서드의 단점 2. 정적 팩토리 메서드가 다른 정적 메서드와 확연히 구분되지 않는다는 것.